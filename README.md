# AI-Powered Classroom Allocation System (ClassForge Concept)

## Overview

This project presents a system designed to optimize classroom allocations for up to **10,000 students**, inspired by the "ClassForge" concept. It employs machine learning and clustering techniques to group students based on predicted academic outcomes, well-being indicators, and peer collaboration potential. The primary objective is to facilitate the creation of balanced and effective classroom environments, providing administrators with actionable insights through an interactive visualization dashboard.

The system utilizes the following key components:

1.  **Predictive Analytics:** Standard machine learning models (Random Forest, XGBoost) are used to predict individual student risks and scores across various metrics.

2.  **Clustering Algorithms:** K-Means and Spectral Clustering are applied to group students based on similarities in their features and predicted outcomes.

3.  **Interactive Visualization:** A Streamlit dashboard provides an interface for exploring the generated class assignments, detailed student information within each class, and visualizations of intra-class social network structures.

## Features

*   **Synthetic Data Generation:** Generates a synthetic dataset for a configurable number of students (up to 10,000), simulating survey responses, academic performance, and social connections.

*   **Predictive Modeling:** Trains machine learning models to predict:
    *   Academic Risk (Likelihood of not succeeding)
    *   Wellbeing Risk (Likelihood of wellbeing decline)
    *   Peer Collaboration Score (Likelihood of positive peer interaction)

*   **Clustering-Based Allocation:**
    *   Applies K-Means for initial student grouping.
    *   Applies Spectral Clustering for potential refinement (Note: computational complexity increases significantly with scale).

*   **Interactive Dashboard:**
    *   Displays overall class statistics, including size and average metrics.
    *   Allows selection of specific classes generated by either K-Means or Spectral Clustering.
    *   Provides a detailed list of students within a selected class and their predicted scores.
    *   Visualizes the friendship network *within* the selected class, with nodes colored by different metrics.
    *   Presents histograms illustrating the distribution of key metrics for the selected class.

## Technology Stack

*   **Programming Language:** Python 3.x
*   **Data Handling:** pandas, numpy
*   **Machine Learning:** scikit-learn, xgboost
*   **Network Analysis:** networkx
*   **Visualization:** streamlit, matplotlib

## Modules

1.  **Data Generation (`generate_synthetic_data` function):**
    *   Creates `synthetic_student_data.csv` if it does not exist.
    *   Simulates data for `NUM_STUDENTS` (configurable).
    *   Includes academic scores, calculated survey metrics (e.g., `k6_overall`, `GrowthMindset`), and friendship links (`Friends` column).

2.  **Predictive Analytics & Clustering (`run_analysis` function):**
    *   Loads the synthetic data.
    *   Calculates proxy labels for model training (e.g., `Academic_Success`, `Wellbeing_Decline`).
    *   Trains Random Forest and XGBoost models.
    *   Predicts `Academic_Risk`, `Wellbeing_Risk`, and `Peer_Score` for all students.
    *   Prepares features for clustering, incorporating raw features, predicted scores, and basic network features (`Degree_Centrality`).
    *   Scales features using `StandardScaler`.
    *   Performs K-Means clustering (`Class_KMeans`).
    *   Performs Spectral clustering (`Class_Spectral`).

3.  **Visualization Dashboard (`app.py` using Streamlit):**
    *   Loads the processed data, including cluster assignments.
    *   Provides interactive elements (dropdowns, sliders) for selecting clustering methods, class IDs, and visualization metrics.
    *   Displays data tables and visualizations generated by `plot_network` and `plot_histogram`.

## Simple Explanation for Non-Technical Users

Imagine this project as a smart tool designed to assist schools in creating the best possible classroom groups for their students.

Here's a simple breakdown of how it works:

1.  **Creating Practice Student Data:** The system starts by generating a large set of fictional student information, including things like their academic results, how they might feel based on surveys, and who their friends are. This practice data helps us build and test the system.

2.  **Using AI to Understand Students:** Next, the system uses artificial intelligence (AI) to analyze this information and make predictions about each student. These predictions include:
    *   **Academic Risk:** How likely a student is to need extra help with their schoolwork.
    *   **Wellbeing Risk:** How likely a student is to experience stress or unhappiness.
    *   **Peer Connection:** How likely a student is to connect positively with others in group settings.

3.  **Suggesting Classroom Groups:** Based on these predictions and other student details, the system uses special methods to suggest ways to group students into classrooms. The goal is to create balanced classes where students can learn effectively and support each other, taking into account their academic needs, emotional well-being, and friendships.

4.  **Showing the Suggestions:** Finally, the system provides an easy-to-use visual tool (a dashboard). School staff can use this dashboard to see the suggested class lists. They can explore the details of each class, see the students in it, review their predicted needs and strengths, and even see a map of the friendships within that class. This helps them understand the suggestions and make the final decisions about classroom assignments.

In essence, this project leverages AI to gain deeper insights into student needs and potential, and then uses these insights to propose classroom allocations that aim to foster positive and supportive learning environments for all students.

## Setup and Usage

1.  **Prerequisites:**
    *   Python 3.8 or higher.
    *   `pip` (Python package installer).

2.  **Installation:**
    *   Clone the repository or download the source code.
    *   Navigate to the project directory in your terminal.
    *   Install the required libraries by running:
        ```bash
        pip install streamlit pandas numpy scikit-learn xgboost networkx matplotlib
        ```

3.  **Configuration:**
    *   Open `app.py`.
    *   Adjust the constants `NUM_STUDENTS` and `CLASS_SIZE_TARGET` at the beginning of the script to match your requirements. `N_CLUSTERS` will be calculated automatically.
    *   **Note:** Increasing `NUM_STUDENTS` significantly will increase data generation time, memory usage, and computation time for analysis and clustering.

4.  **Running the Application:**
    *   Navigate to the project directory in your terminal.
    *   Run the Streamlit application using the command:
        ```bash
        streamlit run app.py
        ```
    *   The script will first generate or load the synthetic data and then perform the analysis. This process may take some time, especially for a large number of students.
    *   Once the processing is complete, Streamlit will provide a local URL (typically `http://localhost:8501`). Open this URL in your web browser to access the dashboard.

5.  **Using the Dashboard:**
    *   In the sidebar, select the desired 'Clustering Method' ('K-Means' or 'Spectral').
    *   Choose a 'Select Class ID' from the dropdown menu to view details for a specific class.
    *   Select a 'Color Network By' metric to visualize the friendship network within the selected class based on that metric.
    *   Explore the 'Class Overview' table, 'Students in Selected Class' table, 'Friendship Network' graph, and 'Metric Distributions' histograms.

## Scaling Considerations (for Large Datasets)

*   **Memory:** Processing a large number of students (e.g., 10,000) with numerous features and complex clustering algorithms will require substantial RAM. Ensure the system running the application has adequate memory.

*   **Computation Time:**
    *   **Spectral Clustering:** The standard Spectral Clustering implementation can be computationally expensive (potentially O(n^3)) for large datasets. While the current implementation uses `affinity='rbf'`, which is generally more scalable than `nearest_neighbors`, it may still be time-consuming for 10,000 data points. For performance-critical applications with large datasets, consider using K-Means or exploring more scalable clustering algorithms or approximations.
    *   **Network Visualization:** Generating `networkx` layouts (such as `spring_layout`) for dense graphs within larger classes can also impact performance. The dashboard currently visualizes only intra-class networks, which helps manage complexity, but performance may still be affected by the size and density of individual classes.

*   **Data Generation:** The initial synthetic data generation process will take longer for a larger number of students.

*   **Streamlit Responsiveness:** While Streamlit is designed for interactivity, computationally intensive operations triggered by user input (if implemented) would lead to delays. The current design pre-computes the analysis results on startup to maintain responsiveness during dashboard exploration.

## Future Work

*   Implement manual adjustment features within the UI (e.g., drag-and-drop functionality for moving or swapping students between classes).
*   Integrate explicit fairness constraints or objectives into the allocation process.
*   Incorporate more advanced social network analysis metrics and visualizations.
*   Explore alternative visualization libraries (e.g., Plotly Dash) for potentially more interactive and performant graphs.
*   Integrate with a database system for more robust and persistent data storage and management.
*   Optimize clustering and visualization techniques to handle even larger datasets more efficiently.
